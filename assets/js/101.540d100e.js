(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{336:function(n,e,s){"use strict";s.r(e);var a=s(4),t=Object(a.a)({},(function(){var n=this,e=n.$createElement,s=n._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h2",{attrs:{id:"eigener-anbau"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#eigener-anbau","aria-hidden":"true"}},[n._v("#")]),n._v(" Eigener Anbau")]),n._v(" "),s("p",[s("a",{attrs:{href:"/de/artikel/ct-webdesign/2017/wordpress-und-seine-konkurrenten"}},[n._v("Wordpress")]),n._v(" ist ein "),s("a",{attrs:{href:"/de/wiki/cms"}},[n._v("Content Management System")]),n._v(", welches die Erweiterung durch Plugins unterstützt. Dazu muss man lediglich eine PHP-Datei in dem Verzeichnis ''"),s("ProjectRoot",[n._v("/wpcontent/plugins/"),s("yourPluginName",[n._v("'' ablegen und am Anfang der Datei einen "),s("a",{attrs:{href:"/de/wiki/programmiersprachen/php/docblock"}},[n._v("DocBlock")]),n._v(" erstellen. Dieser DocBlock muss wie folgt strukturiert sein:")])],1)],1),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("<?php\n/**\nPlugin Name: {yourPluginName}\nDescription: {descriptionOfYourPlugin}\nAuthor: {yourName}\nVersion: 1.0.0\n*/\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br")])]),s("p",[n._v("Um dann einen Shortcut zu registrieren, welchen man im Template verwenden kann, muss man die funktion ''add_shortcode()'' mit dem gewünschten Shortcut name und einer Callback Funktion aufrufen.")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("<?php\nadd_shortcode('userip', function ($params){\n  return $_SERVER['REMOTE_ADDR'];\n});\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br")])]),s("p",[n._v("Die Parameter in einem Wordpresstag erreicht man über ''$params''. Den Tag müsste man dann im Template wie folgt integrieren:")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("[userip foo='bar']\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br")])]),s("p",[n._v('So würde man in params den Key "foo" mit dem Wert "bar" haben.')]),n._v(" "),s("h4",{attrs:{id:"widgets"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#widgets","aria-hidden":"true"}},[n._v("#")]),n._v(" Widgets")]),n._v(" "),s("p",[n._v("Um ein Widget zu registrieren muss man zuerst auf den Hook 'widgets_init' ein Widget registrieren. Danach kann man mit der ''register_widget()'' Funktion das Widget registrieren.")]),n._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v('<?php\n/**\n * Plugin Name: Weather Widget\n * Description: Ein Widget zum Anzeigen des Wetters\n * Author: Björn Pfoster\n * Version: 1.0.0\n */\n\nadd_action("widgets_init", function () {\n    register_widget("weatherWidget");\n});\n\nclass weatherwidget extends WP_Widget\n{\n    public function __construct()\n    {\n        parent::__construct(\n            "weatherwidget",\n            "Wetter-Anzeige",\n            ["description" => "Gibt aktuelles Wetter an einem Ort an"]\n        );\n    }\n\n    public function widget($args, $instance)\n    {\n        $url = "http://api.openweathermap.org/data/2.5/weather?";\n        $url .= "q={$instance[\'city\']}&appid={$instance[\'appid\']}&units=metric&lang=de";\n        $response = wp_remote_get($url, $args);\n        if (is_wp_error($response) || wp_remote_retrieve_response_code($response) != 200) {\n            $answer = "Sorry, Daten konnten nicht geladen werden.";\n        } else {\n            $wetter = json_decode(wp_remote_retrieve_body($response));\n            $iconUrl = "http://openweathermap.org/img/w/{$wetter->weater[0]->icon}.png";\n            $answer = "<img src=\'{$iconUrl}\' style=\'float: left; padding-right: 8px\'/>";\n            $answer .= $wetter->weather[0]->description;\n            $answer .= "<br> bei " . round($wetter->main->temp) . " °C<br>";\n            $answer .= "in {$instance[\'city\']}";\n        }\n        \n        echo $args[\'before_widget\'];\n        echo $args[\'before_title\'] . "Wetteranzeige" . $args[\'after_title\'];\n        echo $answer;\n        echo $args[\'after_widget\'];\n    }\n\n    public function form($instance)\n    {\n        // Backend form\n        $city = isset($instance[\'city\']) ? $instance[\'city\'] : \'\';\n        $appid = isset($instance[\'appid\'])? $instance[\'appid\']: \'\';\n        // Form in admin backend\n        $cityId = $this->get_field_id(\'city\');\n        $apiKeyId = $this->get_field_id(\'appid\');\n        ?>\n        <p>\n            <label for="<?= $cityId?>">Stadt:</label>\n            <input type="text" class="widefat" id="<?= $cityId?>" name="<?= $cityId?>" value="<?= $city?>">\n        </p>\n        <p>\n            <label for="<?= $apiKeyId?>">API-Schlüssel:</label>\n            <input type="text" class="widefat" id="<?= $apiKeyId?>" name="<?= $apiKeyId?>" value="<?= $appid?>">\n        </p>\n        <?php\n    }\n\n    public function update($newInstance, $oldInstance)\n    {\n        // validate updated values\n        $instance = [];\n        $instance[\'city\'] = $newInstance? strip_tags($newInstance[\'city\']): \'\';\n        $instance[\'appid\'] = $newInstance? trim($newInstance[\'appid\']): \'\';\n        return $instance;\n    }\n}\n')])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br"),s("span",{staticClass:"line-number"},[n._v("33")]),s("br"),s("span",{staticClass:"line-number"},[n._v("34")]),s("br"),s("span",{staticClass:"line-number"},[n._v("35")]),s("br"),s("span",{staticClass:"line-number"},[n._v("36")]),s("br"),s("span",{staticClass:"line-number"},[n._v("37")]),s("br"),s("span",{staticClass:"line-number"},[n._v("38")]),s("br"),s("span",{staticClass:"line-number"},[n._v("39")]),s("br"),s("span",{staticClass:"line-number"},[n._v("40")]),s("br"),s("span",{staticClass:"line-number"},[n._v("41")]),s("br"),s("span",{staticClass:"line-number"},[n._v("42")]),s("br"),s("span",{staticClass:"line-number"},[n._v("43")]),s("br"),s("span",{staticClass:"line-number"},[n._v("44")]),s("br"),s("span",{staticClass:"line-number"},[n._v("45")]),s("br"),s("span",{staticClass:"line-number"},[n._v("46")]),s("br"),s("span",{staticClass:"line-number"},[n._v("47")]),s("br"),s("span",{staticClass:"line-number"},[n._v("48")]),s("br"),s("span",{staticClass:"line-number"},[n._v("49")]),s("br"),s("span",{staticClass:"line-number"},[n._v("50")]),s("br"),s("span",{staticClass:"line-number"},[n._v("51")]),s("br"),s("span",{staticClass:"line-number"},[n._v("52")]),s("br"),s("span",{staticClass:"line-number"},[n._v("53")]),s("br"),s("span",{staticClass:"line-number"},[n._v("54")]),s("br"),s("span",{staticClass:"line-number"},[n._v("55")]),s("br"),s("span",{staticClass:"line-number"},[n._v("56")]),s("br"),s("span",{staticClass:"line-number"},[n._v("57")]),s("br"),s("span",{staticClass:"line-number"},[n._v("58")]),s("br"),s("span",{staticClass:"line-number"},[n._v("59")]),s("br"),s("span",{staticClass:"line-number"},[n._v("60")]),s("br"),s("span",{staticClass:"line-number"},[n._v("61")]),s("br"),s("span",{staticClass:"line-number"},[n._v("62")]),s("br"),s("span",{staticClass:"line-number"},[n._v("63")]),s("br"),s("span",{staticClass:"line-number"},[n._v("64")]),s("br"),s("span",{staticClass:"line-number"},[n._v("65")]),s("br"),s("span",{staticClass:"line-number"},[n._v("66")]),s("br"),s("span",{staticClass:"line-number"},[n._v("67")]),s("br"),s("span",{staticClass:"line-number"},[n._v("68")]),s("br"),s("span",{staticClass:"line-number"},[n._v("69")]),s("br"),s("span",{staticClass:"line-number"},[n._v("70")]),s("br"),s("span",{staticClass:"line-number"},[n._v("71")]),s("br"),s("span",{staticClass:"line-number"},[n._v("72")]),s("br"),s("span",{staticClass:"line-number"},[n._v("73")]),s("br"),s("span",{staticClass:"line-number"},[n._v("74")]),s("br")])]),s("h3",{attrs:{id:"fazit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fazit","aria-hidden":"true"}},[n._v("#")]),n._v(" Fazit")]),n._v(" "),s("p",[n._v("Ein Wordpressplugin ist sehr schnell erstellt. Dies kann für uns sehr gut sein, falls wir einmal eine Kleinigkeit bei einer Wordpresswebsite einfügen wollen.")])])}),[],!1,null,null,null);e.default=t.exports}}]);