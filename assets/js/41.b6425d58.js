(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{451:function(e,n,r){"use strict";r.r(n);var t=r(4),a=Object(t.a)({},(function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h2",{attrs:{id:"net-container-und-co"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#net-container-und-co","aria-hidden":"true"}},[e._v("#")]),e._v(" .NET, Container und Co.")]),e._v(" "),r("p",[e._v("Heutzutage gibt es verschiedene Lösungen, eine Applikation in einem Container laufen zu lassen. Um ein paar wenige davon zu nennen:")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://www.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://azure.microsoft.com/en-us/services/kubernetes-service/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Azure Container Service"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://azure.microsoft.com/en-us/services/container-instances/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Azure Container Instances"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://kubernetes.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Kubernetes"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://azure.microsoft.com/en-us/services/service-fabric/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Service Fabric"),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("Diese Lösungen helfen alle bei der Virtualisierung von Applikationen. Docker ist hierbei die Virtualisierungslösung.")]),e._v(" "),r("h3",{attrs:{id:"docker"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#docker","aria-hidden":"true"}},[e._v("#")]),e._v(" Docker")]),e._v(" "),r("p",[e._v("Docker kann man für jedes einzelne Projekt konfigurieren. Diese Konfiguration erfolgt in einem ''dockerfile''. Jedoch muss man nicht das ganze Setup für z. B. .NET selber schreiben. Es gibt bereits Container, welche OpenSource als Basis zur Verfügung stehen. Diese Container bindet man im dockerfile mittels ''FROM'' ein. Der Container eines MS Nano Servers ist ''microsoft/nanoserver:latest''. latest repräsentiert die Version (die aktuellste Version).")]),e._v(" "),r("p",[e._v("Mit dem MS Nano Server ist nun die Grundlage für eine .NET CORE 2.0 Applikation geschaffen. Nun muss man diese Deployen. In .NET gibt es zwei Arten von Deployment:")]),e._v(" "),r("ul",[r("li",[r("strong",[e._v("FDD")]),e._v(" Framework Dependent Deployment")]),e._v(" "),r("li",[r("strong",[e._v("FID")]),e._v(" Framework Independent Deployment")])]),e._v(" "),r("p",[e._v("Bei folgendem dockerfile handelt es sich um ein FDD. Die Dependency ist bereits integriert:")]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("FROM microsoft/dotnet\nARG EXE_DIR=.\nWORKDIR /app\nCOPY $EXE_DIR/ ./\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br")])]),r("p",[r("a",{attrs:{href:"https://training.play-with-docker.com/#dev",target:"_blank",rel:"noopener noreferrer"}},[e._v("Weitere Informationen zu Docker"),r("OutboundLink")],1)]),e._v(" "),r("h3",{attrs:{id:"docker-net-api"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#docker-net-api","aria-hidden":"true"}},[e._v("#")]),e._v(" Docker .NET API")]),e._v(" "),r("p",[e._v("Für .NET gibt es ebenfalls eine API zum ausführen von Docker. Der Code für das Starten eines Container über dessen ID wäre wie folgt:")]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v('DockerClient client = new DockerClientConfiguration(new Uri("npipe://localhost/pipe/docker_engine")).createClient()\nIList<ContainerListResponse> containers = client.Containers.ListContainersAsync(\n  new ContainersListParameters()\n  {\n    Limit = 100,\n  }\n).Result;\n\nforeach (var container in containers)\n{\n  Console.WriteLine($"{container.Image}-{container.ImageID}-{container.ID}");\n}\n\nvar res = client.Containers.StartContainersAsync("0af2e1fda1257d2e035031c898a89d37c1e94b0bbb9848ef59b7fd0f21da78f02", new ContainerStartParameters());\n')])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br"),r("span",{staticClass:"line-number"},[e._v("7")]),r("br"),r("span",{staticClass:"line-number"},[e._v("8")]),r("br"),r("span",{staticClass:"line-number"},[e._v("9")]),r("br"),r("span",{staticClass:"line-number"},[e._v("10")]),r("br"),r("span",{staticClass:"line-number"},[e._v("11")]),r("br"),r("span",{staticClass:"line-number"},[e._v("12")]),r("br"),r("span",{staticClass:"line-number"},[e._v("13")]),r("br"),r("span",{staticClass:"line-number"},[e._v("14")]),r("br")])]),r("p",[e._v("Die "),r("a",{attrs:{href:"https://github.com/Microsoft/Docker.DotNet",target:"_blank",rel:"noopener noreferrer"}},[e._v(".NET Docker API"),r("OutboundLink")],1),e._v(" abstrahiert den Zugriff auf Docker über .NET. Dies kann durchaus sehr hilfreich sein, wenn man mit verschiedenen Containern arbeitet.")]),e._v(" "),r("h3",{attrs:{id:"fazit"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#fazit","aria-hidden":"true"}},[e._v("#")]),e._v(" Fazit")]),e._v(" "),r("p",[e._v('Docker ist eine coole Sache. Allgemein soll Docker das Problem von "Works on my Machine" beheben. Auch das Zusammenspiel mit .NET ist sehr einfach gestaltet mit der .NET Docker API.')])])}),[],!1,null,null,null);n.default=a.exports}}]);