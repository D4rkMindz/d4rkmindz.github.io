<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>img-cache | Ein Entwicklertagebuch</title>
    <meta name="description" content="Ein paar Notizen von einem Entwickler für Entwickler">
    
    <meta property="og:site_name" content="A Dev Journal"><meta property="og:title" content="img-cache"><meta property="og:type" content="website"><meta property="og:url" content="blog.darker.dev/de/ionic/caching/img-cache.html"><meta name="twitter:title" content="img-cache"><meta name="twitter:url" content="blog.darker.dev/de/ionic/caching/img-cache.html"><meta name="twitter:card" content="img-cache - by @DevDarker"><meta name="twitter:label1" content="Written by"><meta name="twitter:data2" content="Björn Pfoster"><meta name="twitter:creator" content="@DevDarker">
    <link rel="preload" href="/assets/css/0.styles.22382368.css" as="style"><link rel="preload" href="/assets/js/app.741d15dd.js" as="script"><link rel="preload" href="/assets/js/2.72b81314.js" as="script"><link rel="preload" href="/assets/js/162.cd48a150.js" as="script"><link rel="preload" href="/assets/js/3.447d62b7.js" as="script"><link rel="prefetch" href="/assets/js/10.12ab40d8.js"><link rel="prefetch" href="/assets/js/100.6a22d04c.js"><link rel="prefetch" href="/assets/js/101.ef6c8536.js"><link rel="prefetch" href="/assets/js/102.f10a2895.js"><link rel="prefetch" href="/assets/js/103.5d90c608.js"><link rel="prefetch" href="/assets/js/104.e8e7de08.js"><link rel="prefetch" href="/assets/js/105.3e955a61.js"><link rel="prefetch" href="/assets/js/106.b5d4fd34.js"><link rel="prefetch" href="/assets/js/107.f35692d1.js"><link rel="prefetch" href="/assets/js/108.6f62350e.js"><link rel="prefetch" href="/assets/js/109.ae37a0b9.js"><link rel="prefetch" href="/assets/js/11.6c36defe.js"><link rel="prefetch" href="/assets/js/110.dae4b01e.js"><link rel="prefetch" href="/assets/js/111.b7e415e7.js"><link rel="prefetch" href="/assets/js/112.427e8a67.js"><link rel="prefetch" href="/assets/js/113.7dda680b.js"><link rel="prefetch" href="/assets/js/114.9a6af338.js"><link rel="prefetch" href="/assets/js/115.43192c04.js"><link rel="prefetch" href="/assets/js/116.50e3792e.js"><link rel="prefetch" href="/assets/js/117.080e32a0.js"><link rel="prefetch" href="/assets/js/118.624cbccc.js"><link rel="prefetch" href="/assets/js/119.f31e1658.js"><link rel="prefetch" href="/assets/js/12.09fa93cb.js"><link rel="prefetch" href="/assets/js/120.4262191a.js"><link rel="prefetch" href="/assets/js/121.7ec84535.js"><link rel="prefetch" href="/assets/js/122.2c256b8c.js"><link rel="prefetch" href="/assets/js/123.18919eb2.js"><link rel="prefetch" href="/assets/js/124.ea2d7676.js"><link rel="prefetch" href="/assets/js/125.d984b548.js"><link rel="prefetch" href="/assets/js/126.7632e450.js"><link rel="prefetch" href="/assets/js/127.50cc24b6.js"><link rel="prefetch" href="/assets/js/128.807fdf45.js"><link rel="prefetch" href="/assets/js/129.85a78d72.js"><link rel="prefetch" href="/assets/js/13.4ad7fdea.js"><link rel="prefetch" href="/assets/js/130.732cb78f.js"><link rel="prefetch" href="/assets/js/131.ffc91964.js"><link rel="prefetch" href="/assets/js/132.82064478.js"><link rel="prefetch" href="/assets/js/133.378aa39f.js"><link rel="prefetch" href="/assets/js/134.899a7db9.js"><link rel="prefetch" href="/assets/js/135.6342fd11.js"><link rel="prefetch" href="/assets/js/136.716ea1a9.js"><link rel="prefetch" href="/assets/js/137.9c1bb04e.js"><link rel="prefetch" href="/assets/js/138.2be86896.js"><link rel="prefetch" href="/assets/js/139.0c99616e.js"><link rel="prefetch" href="/assets/js/14.69104470.js"><link rel="prefetch" href="/assets/js/140.8e3a0cd4.js"><link rel="prefetch" href="/assets/js/141.ad459b19.js"><link rel="prefetch" href="/assets/js/142.c7086ffc.js"><link rel="prefetch" href="/assets/js/143.bf49077b.js"><link rel="prefetch" href="/assets/js/144.a731e4a2.js"><link rel="prefetch" href="/assets/js/145.539d4296.js"><link rel="prefetch" href="/assets/js/146.ed8c14a6.js"><link rel="prefetch" href="/assets/js/147.b8d21484.js"><link rel="prefetch" href="/assets/js/148.ed0cd48b.js"><link rel="prefetch" href="/assets/js/149.ee823e4e.js"><link rel="prefetch" href="/assets/js/15.738f9ffa.js"><link rel="prefetch" href="/assets/js/150.b52069b4.js"><link rel="prefetch" href="/assets/js/151.83b9ab9f.js"><link rel="prefetch" href="/assets/js/152.b99c5abc.js"><link rel="prefetch" href="/assets/js/153.bcd59854.js"><link rel="prefetch" href="/assets/js/154.60bc9d9a.js"><link rel="prefetch" href="/assets/js/155.03a027fe.js"><link rel="prefetch" href="/assets/js/156.77c6aea6.js"><link rel="prefetch" href="/assets/js/157.88e9b9ba.js"><link rel="prefetch" href="/assets/js/158.f09e0a41.js"><link rel="prefetch" href="/assets/js/159.142ec4d9.js"><link rel="prefetch" href="/assets/js/16.0efd1e36.js"><link rel="prefetch" href="/assets/js/160.8a67f302.js"><link rel="prefetch" href="/assets/js/161.41697d90.js"><link rel="prefetch" href="/assets/js/163.b813df4a.js"><link rel="prefetch" href="/assets/js/164.6b736856.js"><link rel="prefetch" href="/assets/js/165.6615a566.js"><link rel="prefetch" href="/assets/js/166.4756719f.js"><link rel="prefetch" href="/assets/js/167.9fce2c04.js"><link rel="prefetch" href="/assets/js/168.f27b841a.js"><link rel="prefetch" href="/assets/js/169.536611f3.js"><link rel="prefetch" href="/assets/js/17.6bb75faa.js"><link rel="prefetch" href="/assets/js/170.c0fa9cd9.js"><link rel="prefetch" href="/assets/js/171.a879fc31.js"><link rel="prefetch" href="/assets/js/172.d6eed987.js"><link rel="prefetch" href="/assets/js/173.cc806561.js"><link rel="prefetch" href="/assets/js/174.82e1915c.js"><link rel="prefetch" href="/assets/js/175.5ab68408.js"><link rel="prefetch" href="/assets/js/176.f33b6135.js"><link rel="prefetch" href="/assets/js/177.79de2d3f.js"><link rel="prefetch" href="/assets/js/178.421cf254.js"><link rel="prefetch" href="/assets/js/179.bc55d134.js"><link rel="prefetch" href="/assets/js/18.b0cd5739.js"><link rel="prefetch" href="/assets/js/180.e801b9fd.js"><link rel="prefetch" href="/assets/js/181.dcbb7161.js"><link rel="prefetch" href="/assets/js/182.f0bfa867.js"><link rel="prefetch" href="/assets/js/183.fd4c9912.js"><link rel="prefetch" href="/assets/js/184.6b8c8eed.js"><link rel="prefetch" href="/assets/js/185.81136a76.js"><link rel="prefetch" href="/assets/js/186.abf3986e.js"><link rel="prefetch" href="/assets/js/187.1b6ca25f.js"><link rel="prefetch" href="/assets/js/188.62ded91c.js"><link rel="prefetch" href="/assets/js/189.01d576f3.js"><link rel="prefetch" href="/assets/js/19.6da582cc.js"><link rel="prefetch" href="/assets/js/190.e393e49a.js"><link rel="prefetch" href="/assets/js/191.e9bf7c15.js"><link rel="prefetch" href="/assets/js/192.12327d17.js"><link rel="prefetch" href="/assets/js/193.1d5e902b.js"><link rel="prefetch" href="/assets/js/194.94b586fe.js"><link rel="prefetch" href="/assets/js/195.d850dc87.js"><link rel="prefetch" href="/assets/js/196.26c6c43c.js"><link rel="prefetch" href="/assets/js/197.5593a06b.js"><link rel="prefetch" href="/assets/js/198.11a0e30a.js"><link rel="prefetch" href="/assets/js/199.ac177cb9.js"><link rel="prefetch" href="/assets/js/20.ba6d5d74.js"><link rel="prefetch" href="/assets/js/200.911768c1.js"><link rel="prefetch" href="/assets/js/201.bd57b90c.js"><link rel="prefetch" href="/assets/js/202.9f2508a8.js"><link rel="prefetch" href="/assets/js/203.3672a4cb.js"><link rel="prefetch" href="/assets/js/204.fe1318e8.js"><link rel="prefetch" href="/assets/js/205.d043f125.js"><link rel="prefetch" href="/assets/js/206.7202f15f.js"><link rel="prefetch" href="/assets/js/207.a58ee957.js"><link rel="prefetch" href="/assets/js/208.9898d7ee.js"><link rel="prefetch" href="/assets/js/209.de7c516b.js"><link rel="prefetch" href="/assets/js/21.e71362a1.js"><link rel="prefetch" href="/assets/js/210.04e30b7e.js"><link rel="prefetch" href="/assets/js/211.ba94a121.js"><link rel="prefetch" href="/assets/js/212.91198d6b.js"><link rel="prefetch" href="/assets/js/213.3302e777.js"><link rel="prefetch" href="/assets/js/214.16d7c510.js"><link rel="prefetch" href="/assets/js/215.cc4fd966.js"><link rel="prefetch" href="/assets/js/216.ffa9b236.js"><link rel="prefetch" href="/assets/js/217.3117316f.js"><link rel="prefetch" href="/assets/js/218.cdd3abab.js"><link rel="prefetch" href="/assets/js/219.f17cb66f.js"><link rel="prefetch" href="/assets/js/22.2abec12f.js"><link rel="prefetch" href="/assets/js/220.fa25b825.js"><link rel="prefetch" href="/assets/js/221.9e761de6.js"><link rel="prefetch" href="/assets/js/222.410e35da.js"><link rel="prefetch" href="/assets/js/223.55f08509.js"><link rel="prefetch" href="/assets/js/224.2a2b5479.js"><link rel="prefetch" href="/assets/js/225.fc606b07.js"><link rel="prefetch" href="/assets/js/226.cb5cf7d3.js"><link rel="prefetch" href="/assets/js/227.5949523d.js"><link rel="prefetch" href="/assets/js/228.5287e5b0.js"><link rel="prefetch" href="/assets/js/229.bc45c36b.js"><link rel="prefetch" href="/assets/js/23.c2872aae.js"><link rel="prefetch" href="/assets/js/230.69acb56a.js"><link rel="prefetch" href="/assets/js/231.9d4553bc.js"><link rel="prefetch" href="/assets/js/232.d4c30c42.js"><link rel="prefetch" href="/assets/js/233.f8115c3d.js"><link rel="prefetch" href="/assets/js/234.d098473c.js"><link rel="prefetch" href="/assets/js/235.db68d8aa.js"><link rel="prefetch" href="/assets/js/236.c696297b.js"><link rel="prefetch" href="/assets/js/237.47692c0e.js"><link rel="prefetch" href="/assets/js/238.ff25f5f8.js"><link rel="prefetch" href="/assets/js/239.6d334c40.js"><link rel="prefetch" href="/assets/js/24.2cea3f84.js"><link rel="prefetch" href="/assets/js/240.d248260c.js"><link rel="prefetch" href="/assets/js/241.bf7c3940.js"><link rel="prefetch" href="/assets/js/242.2edeeb10.js"><link rel="prefetch" href="/assets/js/243.b6fcb1c7.js"><link rel="prefetch" href="/assets/js/244.aec48ba4.js"><link rel="prefetch" href="/assets/js/245.099453c2.js"><link rel="prefetch" href="/assets/js/246.0bf3b626.js"><link rel="prefetch" href="/assets/js/247.2d6c5b66.js"><link rel="prefetch" href="/assets/js/248.a2dabfc6.js"><link rel="prefetch" href="/assets/js/249.3f789ad2.js"><link rel="prefetch" href="/assets/js/25.ec0d5021.js"><link rel="prefetch" href="/assets/js/250.be545c3f.js"><link rel="prefetch" href="/assets/js/251.933ed816.js"><link rel="prefetch" href="/assets/js/252.3a717d2c.js"><link rel="prefetch" href="/assets/js/253.5cf6f0ac.js"><link rel="prefetch" href="/assets/js/254.07cba6b5.js"><link rel="prefetch" href="/assets/js/255.844a95f0.js"><link rel="prefetch" href="/assets/js/256.416e91be.js"><link rel="prefetch" href="/assets/js/257.cd0dd2f3.js"><link rel="prefetch" href="/assets/js/258.93f2f4c4.js"><link rel="prefetch" href="/assets/js/259.46147dd4.js"><link rel="prefetch" href="/assets/js/26.5f82ca11.js"><link rel="prefetch" href="/assets/js/260.6507744a.js"><link rel="prefetch" href="/assets/js/261.6e75809c.js"><link rel="prefetch" href="/assets/js/262.e2150b44.js"><link rel="prefetch" href="/assets/js/263.207ba694.js"><link rel="prefetch" href="/assets/js/264.b3c5b8be.js"><link rel="prefetch" href="/assets/js/265.ec1a9102.js"><link rel="prefetch" href="/assets/js/266.5a9f562b.js"><link rel="prefetch" href="/assets/js/267.d9e4fa10.js"><link rel="prefetch" href="/assets/js/268.a24ee7a8.js"><link rel="prefetch" href="/assets/js/269.84ccd65e.js"><link rel="prefetch" href="/assets/js/27.ca63321b.js"><link rel="prefetch" href="/assets/js/270.cbff6a69.js"><link rel="prefetch" href="/assets/js/271.acbf1463.js"><link rel="prefetch" href="/assets/js/272.fe7d5371.js"><link rel="prefetch" href="/assets/js/273.2fff8aa3.js"><link rel="prefetch" href="/assets/js/274.3311c67c.js"><link rel="prefetch" href="/assets/js/275.2f44e42a.js"><link rel="prefetch" href="/assets/js/276.4ad5a75a.js"><link rel="prefetch" href="/assets/js/277.846e8409.js"><link rel="prefetch" href="/assets/js/278.49cc4fde.js"><link rel="prefetch" href="/assets/js/279.3fb944c7.js"><link rel="prefetch" href="/assets/js/28.90aa18db.js"><link rel="prefetch" href="/assets/js/280.85ab1358.js"><link rel="prefetch" href="/assets/js/281.3f203489.js"><link rel="prefetch" href="/assets/js/282.d700f80c.js"><link rel="prefetch" href="/assets/js/283.07fe9fcb.js"><link rel="prefetch" href="/assets/js/284.c48652ac.js"><link rel="prefetch" href="/assets/js/285.41692674.js"><link rel="prefetch" href="/assets/js/286.2f0bb26c.js"><link rel="prefetch" href="/assets/js/287.14cb7a3c.js"><link rel="prefetch" href="/assets/js/288.6c565ada.js"><link rel="prefetch" href="/assets/js/289.a0f73911.js"><link rel="prefetch" href="/assets/js/29.309a6160.js"><link rel="prefetch" href="/assets/js/290.0ef7062b.js"><link rel="prefetch" href="/assets/js/291.5da874ce.js"><link rel="prefetch" href="/assets/js/292.cfefcc42.js"><link rel="prefetch" href="/assets/js/293.97da6dad.js"><link rel="prefetch" href="/assets/js/294.3c5d4377.js"><link rel="prefetch" href="/assets/js/295.7f6f632d.js"><link rel="prefetch" href="/assets/js/296.59f2ff87.js"><link rel="prefetch" href="/assets/js/297.187f895d.js"><link rel="prefetch" href="/assets/js/298.c7c20d85.js"><link rel="prefetch" href="/assets/js/299.a0516ba9.js"><link rel="prefetch" href="/assets/js/30.c27ac42f.js"><link rel="prefetch" href="/assets/js/300.b3b1ee8b.js"><link rel="prefetch" href="/assets/js/301.1974c717.js"><link rel="prefetch" href="/assets/js/302.f4c6c30f.js"><link rel="prefetch" href="/assets/js/303.cc8617ce.js"><link rel="prefetch" href="/assets/js/304.f79a7c6a.js"><link rel="prefetch" href="/assets/js/305.4376e5cf.js"><link rel="prefetch" href="/assets/js/306.a446bf37.js"><link rel="prefetch" href="/assets/js/307.4cc2b8e3.js"><link rel="prefetch" href="/assets/js/308.3cd7d207.js"><link rel="prefetch" href="/assets/js/309.c3f196ee.js"><link rel="prefetch" href="/assets/js/31.2b0785b7.js"><link rel="prefetch" href="/assets/js/310.f5b8e92a.js"><link rel="prefetch" href="/assets/js/311.0fd96a83.js"><link rel="prefetch" href="/assets/js/312.b7cba3a4.js"><link rel="prefetch" href="/assets/js/313.2aa1ab8e.js"><link rel="prefetch" href="/assets/js/314.8f593ad0.js"><link rel="prefetch" href="/assets/js/315.e8ea629c.js"><link rel="prefetch" href="/assets/js/316.c429ecbe.js"><link rel="prefetch" href="/assets/js/317.410749c7.js"><link rel="prefetch" href="/assets/js/318.8651dd71.js"><link rel="prefetch" href="/assets/js/319.f08c6445.js"><link rel="prefetch" href="/assets/js/32.afb8c8f9.js"><link rel="prefetch" href="/assets/js/320.1298827b.js"><link rel="prefetch" href="/assets/js/321.ef8e29b9.js"><link rel="prefetch" href="/assets/js/322.e736a0d9.js"><link rel="prefetch" href="/assets/js/323.fb57c7c5.js"><link rel="prefetch" href="/assets/js/324.5caa7929.js"><link rel="prefetch" href="/assets/js/325.d8c0ac00.js"><link rel="prefetch" href="/assets/js/326.79a22351.js"><link rel="prefetch" href="/assets/js/327.8472a27d.js"><link rel="prefetch" href="/assets/js/328.1b1d8be6.js"><link rel="prefetch" href="/assets/js/329.f4aef187.js"><link rel="prefetch" href="/assets/js/33.f4ffd850.js"><link rel="prefetch" href="/assets/js/330.7b56adb5.js"><link rel="prefetch" href="/assets/js/331.f83b7e57.js"><link rel="prefetch" href="/assets/js/332.0d501a1a.js"><link rel="prefetch" href="/assets/js/333.615a6d03.js"><link rel="prefetch" href="/assets/js/334.9fa3d0c2.js"><link rel="prefetch" href="/assets/js/335.7915aed7.js"><link rel="prefetch" href="/assets/js/336.a16ea5c4.js"><link rel="prefetch" href="/assets/js/337.c67dfe8b.js"><link rel="prefetch" href="/assets/js/338.f31039c7.js"><link rel="prefetch" href="/assets/js/339.4d5efb9a.js"><link rel="prefetch" href="/assets/js/34.f3ffc29d.js"><link rel="prefetch" href="/assets/js/340.c5e3f102.js"><link rel="prefetch" href="/assets/js/341.5013ff0d.js"><link rel="prefetch" href="/assets/js/342.825844c1.js"><link rel="prefetch" href="/assets/js/343.5e3e1eee.js"><link rel="prefetch" href="/assets/js/344.373ba37c.js"><link rel="prefetch" href="/assets/js/345.0b6b02ab.js"><link rel="prefetch" href="/assets/js/346.01afd83a.js"><link rel="prefetch" href="/assets/js/347.c790c7ad.js"><link rel="prefetch" href="/assets/js/348.99544c87.js"><link rel="prefetch" href="/assets/js/349.1fcff2f0.js"><link rel="prefetch" href="/assets/js/35.dc1ebc11.js"><link rel="prefetch" href="/assets/js/350.25801df1.js"><link rel="prefetch" href="/assets/js/351.10158ea2.js"><link rel="prefetch" href="/assets/js/352.c0c70f90.js"><link rel="prefetch" href="/assets/js/353.6a9890b9.js"><link rel="prefetch" href="/assets/js/354.5677e507.js"><link rel="prefetch" href="/assets/js/355.353c9c71.js"><link rel="prefetch" href="/assets/js/356.0e589f1c.js"><link rel="prefetch" href="/assets/js/357.39f39045.js"><link rel="prefetch" href="/assets/js/358.3f660f90.js"><link rel="prefetch" href="/assets/js/359.a8735131.js"><link rel="prefetch" href="/assets/js/36.32923202.js"><link rel="prefetch" href="/assets/js/360.2468a4ab.js"><link rel="prefetch" href="/assets/js/361.04ff27a9.js"><link rel="prefetch" href="/assets/js/362.ac572035.js"><link rel="prefetch" href="/assets/js/363.39fbbd7b.js"><link rel="prefetch" href="/assets/js/364.71b11dd0.js"><link rel="prefetch" href="/assets/js/365.d8c99337.js"><link rel="prefetch" href="/assets/js/366.16cf0efa.js"><link rel="prefetch" href="/assets/js/367.36145e27.js"><link rel="prefetch" href="/assets/js/368.27367c53.js"><link rel="prefetch" href="/assets/js/369.4a8f61ff.js"><link rel="prefetch" href="/assets/js/37.53567951.js"><link rel="prefetch" href="/assets/js/370.d9ccbdcd.js"><link rel="prefetch" href="/assets/js/371.93fe5ff9.js"><link rel="prefetch" href="/assets/js/372.6f1df192.js"><link rel="prefetch" href="/assets/js/373.1a7ee5ae.js"><link rel="prefetch" href="/assets/js/374.5686cc8e.js"><link rel="prefetch" href="/assets/js/38.459482bc.js"><link rel="prefetch" href="/assets/js/39.e1749bfd.js"><link rel="prefetch" href="/assets/js/4.8c407d42.js"><link rel="prefetch" href="/assets/js/40.17378aad.js"><link rel="prefetch" href="/assets/js/41.b6425d58.js"><link rel="prefetch" href="/assets/js/42.0d76c71b.js"><link rel="prefetch" href="/assets/js/43.d1df2aed.js"><link rel="prefetch" href="/assets/js/44.bf5d8728.js"><link rel="prefetch" href="/assets/js/45.bf3f3dd6.js"><link rel="prefetch" href="/assets/js/46.2f3df04a.js"><link rel="prefetch" href="/assets/js/47.92c265ad.js"><link rel="prefetch" href="/assets/js/48.762fad4f.js"><link rel="prefetch" href="/assets/js/49.9fcbfc4f.js"><link rel="prefetch" href="/assets/js/5.8c371bfa.js"><link rel="prefetch" href="/assets/js/50.e8aa60a3.js"><link rel="prefetch" href="/assets/js/51.4b2e2693.js"><link rel="prefetch" href="/assets/js/52.c4694c0e.js"><link rel="prefetch" href="/assets/js/53.f1f632f0.js"><link rel="prefetch" href="/assets/js/54.ec1d21bb.js"><link rel="prefetch" href="/assets/js/55.a0703e4b.js"><link rel="prefetch" href="/assets/js/56.c2a597dc.js"><link rel="prefetch" href="/assets/js/57.a9f838c8.js"><link rel="prefetch" href="/assets/js/58.6c41b45c.js"><link rel="prefetch" href="/assets/js/59.b07919cf.js"><link rel="prefetch" href="/assets/js/6.5cf21165.js"><link rel="prefetch" href="/assets/js/60.31c6007f.js"><link rel="prefetch" href="/assets/js/61.d6152e38.js"><link rel="prefetch" href="/assets/js/62.c10c8d15.js"><link rel="prefetch" href="/assets/js/63.d59b30d8.js"><link rel="prefetch" href="/assets/js/64.7e530d6f.js"><link rel="prefetch" href="/assets/js/65.e6356cc8.js"><link rel="prefetch" href="/assets/js/66.ae2ceccb.js"><link rel="prefetch" href="/assets/js/67.00608d85.js"><link rel="prefetch" href="/assets/js/68.48b1703d.js"><link rel="prefetch" href="/assets/js/69.7c974164.js"><link rel="prefetch" href="/assets/js/7.ec5de067.js"><link rel="prefetch" href="/assets/js/70.b531b6d3.js"><link rel="prefetch" href="/assets/js/71.f978bd48.js"><link rel="prefetch" href="/assets/js/72.047f35f9.js"><link rel="prefetch" href="/assets/js/73.c6212ecc.js"><link rel="prefetch" href="/assets/js/74.14886812.js"><link rel="prefetch" href="/assets/js/75.e9cc2b3e.js"><link rel="prefetch" href="/assets/js/76.e3f8e73a.js"><link rel="prefetch" href="/assets/js/77.8a9521e8.js"><link rel="prefetch" href="/assets/js/78.6591b642.js"><link rel="prefetch" href="/assets/js/79.55029151.js"><link rel="prefetch" href="/assets/js/8.3e3172a7.js"><link rel="prefetch" href="/assets/js/80.cf607d6d.js"><link rel="prefetch" href="/assets/js/81.ba52962b.js"><link rel="prefetch" href="/assets/js/82.4af0f4b9.js"><link rel="prefetch" href="/assets/js/83.c7f89e2e.js"><link rel="prefetch" href="/assets/js/84.aec4144e.js"><link rel="prefetch" href="/assets/js/85.c2bc5846.js"><link rel="prefetch" href="/assets/js/86.f50a93c4.js"><link rel="prefetch" href="/assets/js/87.99e29c9b.js"><link rel="prefetch" href="/assets/js/88.23057a74.js"><link rel="prefetch" href="/assets/js/89.acb349a3.js"><link rel="prefetch" href="/assets/js/9.2fee9ecd.js"><link rel="prefetch" href="/assets/js/90.3f22cb30.js"><link rel="prefetch" href="/assets/js/91.17441d42.js"><link rel="prefetch" href="/assets/js/92.096f60c5.js"><link rel="prefetch" href="/assets/js/93.10dcd4bf.js"><link rel="prefetch" href="/assets/js/94.79a7aa15.js"><link rel="prefetch" href="/assets/js/95.571ebc26.js"><link rel="prefetch" href="/assets/js/96.57258ced.js"><link rel="prefetch" href="/assets/js/97.def21f56.js"><link rel="prefetch" href="/assets/js/98.dffb2159.js"><link rel="prefetch" href="/assets/js/99.e53027d5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.22382368.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/de/" class="home-link router-link-active"><!----> <span class="site-name">Ein Entwicklertagebuch</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">en</a></li><li class="dropdown-item"><!----> <a href="/de/ionic/caching/img-cache.html" class="nav-link router-link-exact-active router-link-active">de</a></li></ul></div></div> <a href="https://github.com/d4rkmindz/d4rkmindz.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">en</a></li><li class="dropdown-item"><!----> <a href="/de/ionic/caching/img-cache.html" class="nav-link router-link-exact-active router-link-active">de</a></li></ul></div></div> <a href="https://github.com/d4rkmindz/d4rkmindz.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    Contribute!
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/de/" class="sidebar-link">Start</a></li><li><a href="/de/artikel/" class="sidebar-link">Artikel</a></li><li><a href="/de/installationen/" class="sidebar-link">Installationen</a></li><li><a href="/de/ionic/" class="sidebar-link">Ionic</a></li><li><a href="/de/lernjournal/" class="sidebar-link">Lernjournal</a></li><li><a href="/de/module/" class="sidebar-link">Module</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Wiki</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tutorials</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="https://darker.dev" target="_blank" rel="noopener noreferrer" class="sidebar-link">Über mich<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="img-cache"><a href="#img-cache" aria-hidden="true" class="header-anchor">#</a> img-cache</h2> <p>Um den Datenverbrauch so weit wie möglich zu reduzieren, kann man die Bilder unter Ionic cachen. Dafür gibt es leider nur eine &quot;halbfertige&quot; Erweiterung unter Ionic. <a href="https://medium.com/ninjadevs/caching-images-ionic-ccf2f4ca8d1f" target="_blank" rel="noopener noreferrer">Hier<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> jedoch ist ein Tutorial, welches eine Caching-Möglichkeit beschreibt.</p> <h3 id="installation"><a href="#installation" aria-hidden="true" class="header-anchor">#</a> Installation</h3> <p>Die ImgCache.js erweiterung einfach herunterladen:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install imgcache.js --save
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="provider"><a href="#provider" aria-hidden="true" class="header-anchor">#</a> Provider</h3> <p>Anschliessend muss man einen Provider erstellen, welcher den img-cache verwaltet.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ionic generate provider img
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Nun findet man unter /src/providers das Verzeichnis &quot;img&quot;. In die Datei img.ts. kommt folgender Code:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Injectable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'rxjs/add/operator/map'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ImgCache <span class="token keyword">from</span> <span class="token string">'imgcache.js'</span><span class="token punctuation">;</span>

@<span class="token function">Injectable</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ImgProvider</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> imgQueue<span class="token punctuation">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ImgCache<span class="token punctuation">.</span>options<span class="token punctuation">.</span>debug <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/**
   * Init imgCache library
   * @return {Promise}
   */</span>
  <span class="token keyword">public</span> <span class="token function">initImgCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span>any<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>ImgCache<span class="token punctuation">.</span>ready<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        ImgCache<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/**
   * Cache images
   * @param src {string} - img source
   * @param forceReload {boolean}
   */</span>
  <span class="token keyword">public</span> <span class="token function">cacheImg</span><span class="token punctuation">(</span>src<span class="token punctuation">:</span> string<span class="token punctuation">,</span> forceReload<span class="token punctuation">:</span> boolean<span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span>any<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      ImgCache<span class="token punctuation">.</span><span class="token function">isCached</span><span class="token punctuation">(</span>src<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">path<span class="token punctuation">:</span> string<span class="token punctuation">,</span> success<span class="token punctuation">:</span> boolean</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// if not, it will be cached</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>success <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>forceReload<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          ImgCache<span class="token punctuation">.</span><span class="token function">getCachedFileURL</span><span class="token punctuation">(</span>src<span class="token punctuation">,</span>
            <span class="token punctuation">(</span><span class="token parameter">originalUrl<span class="token punctuation">,</span> cacheUrl</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token function">resolve</span><span class="token punctuation">(</span>cacheUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token function">reject</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token comment">// cache img</span>
          ImgCache<span class="token punctuation">.</span><span class="token function">cacheFile</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// return original img URL</span>
          <span class="token function">resolve</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><h3 id="directive"><a href="#directive" aria-hidden="true" class="header-anchor">#</a> Directive</h3> <p>Nun muss man noch eine <a href="https://angular.io/api/core/Directive" target="_blank" rel="noopener noreferrer">Directive<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> hinzufügen:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ionic generate directive lazy-load
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Unter /src/directives findet man nun das Verzeichnis &quot;lazy-load&quot;. In der lazy-load.ts-Datei kommt folgender Code:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
  Directive<span class="token punctuation">,</span>
  ElementRef<span class="token punctuation">,</span>
  EventEmitter<span class="token punctuation">,</span>
  Input<span class="token punctuation">,</span>
  Output<span class="token punctuation">,</span>
  OnInit<span class="token punctuation">,</span> OnDestroy<span class="token punctuation">,</span> Renderer2
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>ImgProvider<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../providers/img/img&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Events<span class="token punctuation">,</span> Refresher<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;ionic-angular&quot;</span><span class="token punctuation">;</span>


<span class="token comment">/**
 * This directive is charge of cache the images and emit a loaded event
 */</span>
@<span class="token function">Directive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token punctuation">:</span> <span class="token string">'[lazy-load]'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">/**
 * Class LazyLoadDirective
 */</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">LazyLoadDirective</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span><span class="token punctuation">,</span> OnDestroy <span class="token punctuation">{</span>
  <span class="token comment">// attribute inputSrc</span>
  @<span class="token function">Input</span><span class="token punctuation">(</span><span class="token string">'inputSrc'</span><span class="token punctuation">)</span> src <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  @<span class="token function">Output</span><span class="token punctuation">(</span><span class="token punctuation">)</span> loaded <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EventEmitter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">public</span> loadEvent<span class="token punctuation">:</span> any<span class="token punctuation">;</span>
  <span class="token keyword">public</span> errorEvent<span class="token punctuation">:</span> any<span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">public</span> el<span class="token punctuation">:</span> ElementRef<span class="token punctuation">,</span>
              <span class="token keyword">public</span> imgCacheService<span class="token punctuation">:</span> ImgProvider<span class="token punctuation">,</span>
              <span class="token keyword">public</span> renderer<span class="token punctuation">:</span> Renderer2<span class="token punctuation">,</span>
              <span class="token keyword">public</span> events<span class="token punctuation">:</span> Events</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">**</span>ionicframework<span class="token punctuation">.</span>com<span class="token operator">/</span>docs<span class="token operator">/</span>api<span class="token operator">/</span>components<span class="token operator">/</span>refresher<span class="token operator">/</span>Refresher<span class="token operator">/</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'img:reload'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">refresher<span class="token punctuation">:</span> Refresher<span class="token punctuation">,</span> forceReload<span class="token punctuation">:</span> boolean</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>forceReload<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        refresher<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'loaded'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">ngOnDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// remove listeners</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">loadEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">errorEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/**
   * Load image.
   *
   * @param {boolean} forceReload
   * @returns {Promise&lt;any&gt;}
   */</span>
  <span class="token keyword">private</span> <span class="token function">load</span><span class="token punctuation">(</span><span class="token parameter">forceReload<span class="token punctuation">:</span> boolean <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// get img element</span>
      <span class="token keyword">const</span> nativeElement <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>el<span class="token punctuation">.</span>nativeElement<span class="token punctuation">;</span>
      <span class="token keyword">const</span> render <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>renderer<span class="token punctuation">;</span>

      <span class="token comment">// add load listener</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>loadEvent <span class="token operator">=</span> render<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>nativeElement<span class="token punctuation">,</span> <span class="token string">'load'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        render<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span>nativeElement<span class="token punctuation">,</span> <span class="token string">'loaded'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>loaded<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">this</span><span class="token punctuation">.</span>errorEvent <span class="token operator">=</span> render<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>nativeElement<span class="token punctuation">,</span> <span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        nativeElement<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// cache img and set the src to the img</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>imgCacheService<span class="token punctuation">.</span><span class="token function">cacheImg</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>src<span class="token punctuation">,</span> forceReload<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        render<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span>nativeElement<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br></div></div><h3 id="component"><a href="#component" aria-hidden="true" class="header-anchor">#</a> Component</h3> <p>Als letztes muss man noch die lazy-img Component hinzugfügen:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ionic generate component lazy-img
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Danach findet man die &quot;lazy-img.ts&quot;- sowie die &quot;lazy-load.scss&quot;-Datei unter /src/components/lazy-load.</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Input <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Component in charge of lazy load images and cache them
 */</span>
@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token punctuation">:</span> <span class="token string">'lazy-img'</span><span class="token punctuation">,</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  &lt;div text-center [ngClass]=&quot;{ 'placeholder': placeholderActive }&quot;&gt;
    &lt;img [inputSrc]=&quot;inputSrc&quot; lazy-load (loaded)=&quot;placeholderActive = false&quot;/&gt;
  &lt;/div&gt;
  </span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">LazyImgComponent</span> <span class="token punctuation">{</span>

  @<span class="token function">Input</span><span class="token punctuation">(</span><span class="token punctuation">)</span> inputSrc<span class="token punctuation">:</span> string<span class="token punctuation">;</span>

  <span class="token keyword">public</span> placeholderActive<span class="token punctuation">:</span> boolean <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">lazy-img</span> <span class="token punctuation">{</span>
  <span class="token selector">div</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> gray<span class="token punctuation">;</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">&quot;Roboto&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Helvetica Neue&quot;</span><span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>
    <span class="token property">min-height</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>
    <span class="token property">min-width</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> 2s background-color ease<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.placeholder</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> grey<span class="token selector">;

    &amp;::before</span> <span class="token punctuation">{</span>
      <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
      <span class="token property">content</span><span class="token punctuation">:</span> '
f30e'<span class="token punctuation">;</span>
      <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
      <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
      <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token selector">img</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> inherit<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">z-index</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h3 id="import"><a href="#import" aria-hidden="true" class="header-anchor">#</a> Import</h3> <p>Damit man nun das Tag <lazy-img> verwenden kann, muss man noch in der app.module.ts-Datei (/de/src/app) die Komponenten unter folgenden Punkten hinzufügen:</lazy-img></p> <p>LazyImgComponent  -&gt; declarations, entryComponents</p> <p>LazyLoadDirective  -&gt; declarations</p> <p>ImgProvider  -&gt; providers</p> <p><a href="https://github.com/D4rkMindz/login-app/blob/9e53ee7d6dc7f610be8d0c216cddf7c7d99527cd/src/app/app.module.ts" target="_blank" rel="noopener noreferrer">app.module.ts (stand 04.09.2017)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/d4rkmindz/d4rkmindz.github.io/edit/master/de/ionic/caching/img-cache.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <!----> </main></div><div class="global-ui"><!----><div class="reading-progress top" data-v-7681808f><div class="progress" data-v-7681808f></div></div><!----></div></div>
    <script src="/assets/js/app.741d15dd.js" defer></script><script src="/assets/js/2.72b81314.js" defer></script><script src="/assets/js/162.cd48a150.js" defer></script><script src="/assets/js/3.447d62b7.js" defer></script>
  </body>
</html>
